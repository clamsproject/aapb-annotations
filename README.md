# AAPB-CLAMS Annotation Repository
This repository contains datasets from manual annotation projects in [GBH](https://www.wgbh.org/) & [AAPB](https://americanarchive.org/) - [CLAMS](https://clams.ai) collaboration.

## Project Information
GBH and AAPB have involved the CLAMS team to develop metadata creation systems for digital archives of public media 
(primarily video and audio from publicly-funded tv shows and radio broadcasts). 
This will facilitate the research and preservation of significant historical content from this media collection.  
Parts of the process of archiving, summarizing and extracting metadata from media assets could eventually be automatic.  
This repository/endeavor provides training and evaluation data for the Computer Vision and Machine Learning tools in this process.  
Data collected is used to evaluate the success of the tools. Then, the tools will be trained on large batches of data to automatically retrieve 
information important to the archival process.

## Structure of This Repository/Directory
 - `batches` subdirectory
 - project subdirectories
 - this README file

### `batches` Subdirectory 
The first directory is the special `batches` directory. 
This special directory maintains tracking information for the whole repository/annotation endeavor. 
Annotation projects are done in batches, which denote a moment/event/period of annotation on a set of media assets.
A batch is set of the identifying tags for those respective media assets.
Specifically, this directory contains `.txt` files named after the batch name. Batches are usually named after their relevant GitHub issue from [AAPB-CLAMS collaboration repository](https://github.com/clamsproject/aapb-collaboration).  
* Each line in a `.txt` file _must_ be a single AAPB GUID, with an exception to any lines starts with `#` - which denotes a comment.  
* A GUID is a unique identifying string that can be used at the AAPB website to find one particular media and its supporting files, eg. `cpb-aacip-96d289b264c` at https://americanarchive.org/catalog/cpb-aacip-96d289b264c.

> [!NOTE]
> AAPB-GUID is not [Universally unique identifier](https://en.wikipedia.org/wiki/Universally_unique_identifier), but just a unique identifier within the scope of the AAPB system.   

### Project Subdirectories 
Each directory in this repository represents a specific annotation project, its datasets and processing tools.    
This includes its raw annotated data file, gold-formatted final output data file for tool ingestion, software-suite for converting from raw to gold, and a project-specific `readme.md` explaining it and its annotation guidelines.

The directory name is the name of the project. Each directory contains the following files:

#### Raw intermediate dataset files
> [!IMPORTANT]
> `YYMMDD-batchName` directory 
 
These sub-directories contain raw output files from the manual annotation process created by the annotation tool (or by hand like a `.csv` file). 
Different annotation tools create different file formats with diverse formatting. The `YYMMDD-` prefix _must_ indicate the time when a batch of annotation is conducted. (e.g., when the batch is decided to be annotated)
These prefixes are used for the sorting of annotation processes and machine ingestion of the raw data. 
The `batchName` part of the directory name _must_ match only one of `.txt` files in the batches. 

#### Codebase for conversion
> [!IMPORTANT]
> _(usually)_ `process.{sh,py}` _and dependencies_
 
A piece of software to process the raw manual annotations and generate the publicly-available "gold" dataset. 
The input file format to the tools/apps can vary (e.g. `.csv`, `.json`). 
In addition to the main code file, if the code requires additional dependencies/scripts, they can stay in the same directory. 
The dependencies information can be written down in the `README.md` file or in a machine-friendly file with the list of dependencies (e.g. `requirements.txt` for `pip`).

#### Final "Gold" dataset files
> [!IMPORTANT]
> `golds` directory

This directory contains the public "gold" dataset generated by the above script. The script _must_ generate one file per GUID (video/audio/text document) and the number of gold files in this directory _must_ match the sum of GUIDs in all batches (`YYMMDD-xxx` subdirectories) annotated. 
The gold dataset is a set of files that are in a format that is ready for use with the newly developed tools. I.e. The raw file must be properly formatted so that tools in the next step of the process can use this dataset.

#### Information README
> [!IMPORTANT] 
> `README.md` _(and possibly `guidelines.md`)_

Project-specific information, including but not limited to:
* Annotation project name
* Annotator summary: Some basic demographic information about the annotators. Age group, language proficiency, occupational characteristics, etc.
* Annotation environment/tool information (name, version, link, tool used, user manual, etc.)
* Project changes: version changes, addition of new batches, change in annotator personnel, etc.
* Raw-to-gold conversion code explanation 
  * dependencies, short description of `process.py`
  * file formats of raw and gold
  * field description, _datatype_
  * differences, added information, discarded information during `process.py`, added info during process.py, etc.)  
* Annotation guidelines - sometimes this is a separate file: `guidelines.md`: How to annotate in this project, aka scheme. This section should give sufficient information for the reproduction of the annotation to produce almost exact similar raw datasets.
  * What tool is used, and how it is used. In most cases there is a separate codebase (ideally on `clamsproject` GitHub) for the annotation tool, and it should be linked in the project-specific `README.md`.
  * What to annotate
  * Options of label choices
  * Label formatting. 
  * Differentiation between labels, edge cases, other decisions made during annotation.
  * Concerns, limitations, precision details. (e.g. Annotation of time is likely only down to 0.100-0.200 seconds of precision.)

> [!NOTE]
> `readme.md` files are supposed to be actively maintained by the project manager. All `guideline.md` files are recommended to be version-controlled.  

## Repository-level Conventions (in brief)
### Conventions
> Please see the [Repository-level Conventions file](https://github.com/clamsproject/aapb-annotations/blob/main/repository_level_conventions.md) for standardizations, explanations and conventions.  
### Time Point Notation
> [!IMPORTANT] 
> `hh:mm:ss.mmm` with a **DOT**  
The time format for all (gold) datasets in this repository is [ISO 8601 Time Format](https://en.wikipedia.org/wiki/ISO_8601#Times).  
### Imprecision in Annotation in General
_(See other file)_
### Imprecision in Time-based Annotation
1. **MARGIN OF ERROR** _(+/- in both directions)_  
2. **DIRECTIONALITY** _(Close as can to bound but not past it)_  
  
## List of Current Projects/Subdirectories
_This section is currently manually updated and may be incomplete. It contains information up to the readme's editing date._  
* (`batches`)
* `january-slates` - slates are actual visible frames within the video media that contain the metadata and other identifying information of that video. 
  * eg. program name, director, producer, etc.
  * Project done in January. This is an outdated naming convention.
* `newshour-chyron` - drawn from the [NewsHour](https://americanarchive.org/special_collections/newshour) TV broadcast, 
this project annotates text appearing on screen, usually above or below the main action saying things such as "Breaking News", "Joan, author".
* `newshour-namedentity` - from NewsHour. This project annotated [named entities](https://www.techtarget.com/searchbusinessanalytics/definition/named-entity#:~:text=In%20data%20mining%2C%20a%20named,phone%20numbers%2C%20companies%20and%20addresses.)
found within the video _transcript_ along with which characters denoted that named entity and its type
 (see `newshour-namedentity/{guidelines,readme}.md`).
* `newshour-namedentity-wikipedialink` - from NewsHour. This project used the previous project's dataset and added
an extra label of which wikimedia link referred to the named entity annotated, eg. https://www.wikidata.org/wiki/Q931148.
* `newshour-transcript` - from NewsHour. This project found the start and end times for 10 tokens of closed captioning at a time from the transcript to the video. 

## Issue Tracking and Conversation Archive
Progress and other discussion by AAPB/CLAMS/WBGH is tracked via the open and closed [Github Issues](https://github.com/clamsproject/aapb-annotations/issues) feature.  
Finally, please email [CLAMS.ai admin](admin@clams.ai) for other inquiries.  